<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PackSmart — AI Travel Preparation</title>
    <meta name="description" content="Get a personalized AI-powered travel plan in seconds. Packing lists, visa info, local tips, and smart reminders tailored to your trip.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,400&family=Instrument+Serif:ital@0;1&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Brand */
            --action: #00C9A7;
            --action-hover: #00B396;
            --accent: #E94560;

            /* User's palette */
            --bg: #FDF0F2;              /* Rose Tint - main page background */
            --bg-card: #F8F9FA;         /* Cloud White - cards, form fields, alt sections */
            --bg-white: #FFFFFF;        /* Pure white for elevated cards */
            --border: #E9ECEF;          /* Silver Mist - dividers, borders */
            --teal-tint: #F0FAF7;       /* Teal Tint - teal-themed sections */
            --rose-tint: #FDF0F2;       /* Rose Tint - warnings, errors */
            --text: #212529;            /* Near Black - body text */
            --text-secondary: #6C757D;  /* Steel Gray - secondary text */
            --text-tertiary: #A1A1AA;

            --action-glow: rgba(0, 201, 167, 0.15);
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.04);
            --shadow-md: 0 4px 16px rgba(0,0,0,0.05);
            --shadow-lg: 0 12px 40px rgba(0,0,0,0.07);
            --shadow-glow: 0 0 40px rgba(0,201,167,0.15);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            --font-display: 'Instrument Serif', Georgia, serif;
            --font-body: 'Plus Jakarta Sans', system-ui, sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; background: var(--bg); }

        body {
            font-family: var(--font-body);
            color: var(--text);
            background: transparent;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
            position: relative;
        }

        /* ===== ANIMATED GRADIENT MESH BACKGROUND ===== */
        .mesh-bg {
            position: fixed;
            inset: 0;
            z-index: 0;
            overflow: hidden;
            background: var(--bg);
        }
        .mesh-blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(90px);
            opacity: 0.8;
            will-change: transform;
        }
        .mesh-blob-1 {
            width: 55vw; height: 55vw;
            max-width: 700px; max-height: 700px;
            background: radial-gradient(circle, rgba(0,201,167,0.25), rgba(240,250,247,0.4) 60%, transparent 80%);
            top: -15%; right: -10%;
            animation: mesh1 25s ease-in-out infinite;
        }
        .mesh-blob-2 {
            width: 50vw; height: 50vw;
            max-width: 650px; max-height: 650px;
            background: radial-gradient(circle, rgba(233,69,96,0.14), rgba(253,240,242,0.4) 55%, transparent 80%);
            bottom: -10%; left: -10%;
            animation: mesh2 30s ease-in-out infinite;
        }
        .mesh-blob-3 {
            width: 40vw; height: 40vw;
            max-width: 500px; max-height: 500px;
            background: radial-gradient(circle, rgba(0,201,167,0.18), rgba(240,250,247,0.3) 50%, transparent 80%);
            top: 35%; left: 50%;
            animation: mesh3 22s ease-in-out infinite;
        }
        .mesh-blob-4 {
            width: 45vw; height: 45vw;
            max-width: 550px; max-height: 550px;
            background: radial-gradient(circle, rgba(233,69,96,0.10), rgba(253,240,242,0.3) 50%, transparent 80%);
            top: 10%; left: -5%;
            animation: mesh4 28s ease-in-out infinite;
        }
        .mesh-blob-5 {
            width: 35vw; height: 35vw;
            max-width: 450px; max-height: 450px;
            background: radial-gradient(circle, rgba(0,201,167,0.14), rgba(248,249,250,0.25) 50%, transparent 80%);
            bottom: 20%; right: -5%;
            animation: mesh5 26s ease-in-out infinite;
        }

        @keyframes mesh1 {
            0%, 100% { transform: translate(0, 0) scale(1) rotate(0deg); }
            25% { transform: translate(-80px, 60px) scale(1.1) rotate(5deg); }
            50% { transform: translate(-40px, 120px) scale(0.95) rotate(-3deg); }
            75% { transform: translate(60px, 40px) scale(1.05) rotate(2deg); }
        }
        @keyframes mesh2 {
            0%, 100% { transform: translate(0, 0) scale(1) rotate(0deg); }
            25% { transform: translate(100px, -50px) scale(1.08) rotate(-4deg); }
            50% { transform: translate(60px, -100px) scale(0.92) rotate(6deg); }
            75% { transform: translate(-40px, -60px) scale(1.05) rotate(-2deg); }
        }
        @keyframes mesh3 {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(-120px, 50px) scale(1.12); }
            66% { transform: translate(80px, -70px) scale(0.9); }
        }
        @keyframes mesh4 {
            0%, 100% { transform: translate(0, 0) scale(1) rotate(0deg); }
            30% { transform: translate(70px, 90px) scale(0.95) rotate(3deg); }
            60% { transform: translate(120px, 30px) scale(1.1) rotate(-5deg); }
        }
        @keyframes mesh5 {
            0%, 100% { transform: translate(0, 0) scale(1); }
            40% { transform: translate(-90px, -60px) scale(1.08); }
            70% { transform: translate(-30px, 80px) scale(0.94); }
        }

        /* Grain overlay */
        body::after {
            content: '';
            position: fixed;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.02'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 9999;
        }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }
        ::selection { background: var(--action-glow); color: var(--text); }

        /* ===== NAVBAR ===== */
        .nav {
            position: fixed;
            top: 0; left: 0; right: 0;
            z-index: 100;
            padding: 0 3rem;
            height: 72px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: transparent;
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .nav.scrolled {
            background: rgba(253,240,242,0.88);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid var(--border);
        }
        .nav-brand {
            font-family: var(--font-body);
            font-weight: 800;
            font-size: 1.2rem;
            color: var(--text);
            text-decoration: none;
            letter-spacing: -0.3px;
        }
        .nav-brand em { font-style: normal; color: var(--action); }
        .nav-links { display: flex; align-items: center; gap: 2.5rem; }
        .nav-links a {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.2s;
            position: relative;
        }
        .nav-links a:hover { color: var(--action); }
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -4px; left: 0; right: 0;
            height: 1.5px;
            background: var(--action);
            transform: scaleX(0);
            transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .nav-links a:hover::after { transform: scaleX(1); }
        .nav-cta-btn {
            font-size: 0.85rem !important;
            font-weight: 600 !important;
            color: #fff !important;
            background: var(--action);
            padding: 9px 22px;
            border-radius: 50px;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1) !important;
        }
        .nav-cta-btn::after { display: none !important; }
        .nav-cta-btn:hover {
            background: var(--action-hover) !important;
            transform: translateY(-1px);
            box-shadow: var(--shadow-glow);
        }
        .mobile-menu-btn {
            display: none;
            background: none; border: none; cursor: pointer;
            width: 32px; height: 32px; position: relative;
        }
        .mobile-menu-btn span {
            position: absolute; left: 4px; width: 24px; height: 1.5px;
            background: var(--text); border-radius: 2px; transition: 0.3s;
        }
        .mobile-menu-btn span:nth-child(1) { top: 10px; }
        .mobile-menu-btn span:nth-child(2) { top: 16px; }
        .mobile-menu-btn span:nth-child(3) { top: 22px; }

        /* ===== HERO ===== */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 120px 2rem 80px;
            background: rgba(255,255,255,0.5);
            position: relative;
            z-index: 1;
            overflow: hidden;
        }

        .hero-canvas {
            position: absolute;
            inset: 0;
            z-index: 1;
        }

        .hero-grid {
            position: absolute; inset: 0;
            background-image:
                linear-gradient(rgba(33,37,41,0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(33,37,41,0.03) 1px, transparent 1px);
            background-size: 60px 60px;
            mask-image: radial-gradient(ellipse at center, black 30%, transparent 70%);
            -webkit-mask-image: radial-gradient(ellipse at center, black 30%, transparent 70%);
        }

        .hero-content { position: relative; z-index: 2; max-width: 800px; }

        .hero-pill {
            display: inline-flex; align-items: center; gap: 8px;
            padding: 6px 6px 6px 14px;
            border-radius: 50px;
            background: var(--teal-tint);
            border: 1px solid rgba(0,201,167,0.15);
            font-size: 0.82rem; font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            animation: fadeUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) 0.1s both;
        }
        .hero-pill .pill-tag {
            background: var(--action); color: #fff;
            font-size: 0.72rem; font-weight: 700;
            padding: 3px 10px; border-radius: 50px;
            text-transform: uppercase; letter-spacing: 0.5px;
        }

        .hero h1 {
            font-family: var(--font-display);
            font-size: clamp(3rem, 7vw, 5.5rem);
            font-weight: 400;
            color: var(--text);
            line-height: 1.05;
            letter-spacing: -2px;
            margin-bottom: 1.5rem;
            animation: fadeUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) 0.2s both;
        }
        .hero h1 .serif-italic {
            font-style: italic;
            background: linear-gradient(135deg, var(--action), #5EFCE8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-sub {
            font-size: 1.15rem; line-height: 1.7;
            color: var(--text-secondary);
            max-width: 520px; margin: 0 auto 2.5rem;
            animation: fadeUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) 0.35s both;
        }

        .hero-actions {
            display: flex; align-items: center; justify-content: center; gap: 1rem;
            animation: fadeUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) 0.5s both;
        }

        .btn-primary {
            display: inline-flex; align-items: center; gap: 8px;
            padding: 14px 30px;
            background: var(--action); color: #fff;
            font-family: var(--font-body); font-size: 0.95rem; font-weight: 600;
            border: none; border-radius: 50px; cursor: pointer; text-decoration: none;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .btn-primary:hover {
            background: var(--action-hover);
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0,201,167,0.35);
        }
        .btn-primary svg { transition: transform 0.3s; }
        .btn-primary:hover svg { transform: translateX(3px); }

        .btn-ghost {
            display: inline-flex; align-items: center; gap: 6px;
            padding: 14px 24px;
            background: transparent; color: var(--text-secondary);
            font-family: var(--font-body); font-size: 0.95rem; font-weight: 500;
            border: 1px solid var(--border); border-radius: 50px;
            cursor: pointer; text-decoration: none; transition: all 0.3s;
        }
        .btn-ghost:hover {
            color: var(--action); border-color: var(--action); background: var(--teal-tint);
        }

        .hero-proof {
            display: flex; justify-content: center; gap: 4rem;
            margin-top: 5rem; padding-top: 2.5rem;
            border-top: 1px solid var(--border);
            animation: fadeUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) 0.65s both;
        }
        .hero-proof-item { text-align: center; }
        .hero-proof-item .val {
            font-family: var(--font-display); font-size: 2rem;
            color: var(--text); letter-spacing: -1px;
        }
        .hero-proof-item .val em { font-style: italic; color: var(--action); }
        .hero-proof-item .lbl {
            font-size: 0.78rem; color: var(--text-tertiary);
            margin-top: 4px; text-transform: uppercase;
            letter-spacing: 1.5px; font-weight: 500;
        }

        /* ===== ANIMATIONS ===== */
        .reveal {
            opacity: 0; transform: translateY(40px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .reveal.visible { opacity: 1; transform: translateY(0); }
        .reveal-delay-1 { transition-delay: 0.1s; }
        .reveal-delay-2 { transition-delay: 0.2s; }
        .reveal-delay-3 { transition-delay: 0.3s; }

        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ===== SECTIONS ===== */
        .section { padding: 120px 2rem; position: relative; z-index: 1; }
        .section-cloud { background: rgba(248,249,250,0.7); backdrop-filter: blur(1px); }
        .section-teal { background: rgba(240,250,247,0.7); backdrop-filter: blur(1px); }
        .container { max-width: 1100px; margin: 0 auto; }

        .section-label {
            font-size: 0.75rem; font-weight: 700;
            text-transform: uppercase; letter-spacing: 2.5px;
            color: var(--action); margin-bottom: 1rem;
        }
        .section-title {
            font-family: var(--font-display);
            font-size: clamp(2rem, 4vw, 3.2rem);
            font-weight: 400; color: var(--text);
            letter-spacing: -1px; line-height: 1.15; margin-bottom: 1rem;
        }
        .section-desc {
            font-size: 1.05rem; color: var(--text-secondary);
            max-width: 560px; line-height: 1.7;
        }

        /* ===== HOW IT WORKS ===== */
        .steps-row {
            display: grid; grid-template-columns: repeat(3, 1fr);
            gap: 2rem; margin-top: 4rem;
        }
        .step {
            padding: 2.5rem 2rem;
            border-radius: var(--radius-lg);
            border: 1px solid var(--border);
            background: var(--bg-white);
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative; overflow: hidden;
        }
        .step::before {
            content: ''; position: absolute;
            top: 0; left: 0; right: 0; height: 3px;
            background: linear-gradient(90deg, var(--action), transparent);
            opacity: 0; transition: opacity 0.4s;
        }
        .step:hover {
            border-color: var(--action);
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }
        .step:hover::before { opacity: 1; }
        .step-num {
            font-family: var(--font-display);
            font-size: 3rem; font-style: italic;
            color: var(--border); line-height: 1;
            margin-bottom: 1.2rem; transition: color 0.4s;
        }
        .step:hover .step-num { color: var(--action); }
        .step h3 {
            font-family: var(--font-body);
            font-size: 1.1rem; font-weight: 700;
            margin-bottom: 0.6rem; color: var(--text);
        }
        .step p { font-size: 0.92rem; color: var(--text-secondary); line-height: 1.65; }

        /* ===== FEATURES BENTO ===== */
        .bento-grid {
            display: grid; grid-template-columns: repeat(3, 1fr);
            gap: 1.2rem; margin-top: 4rem;
        }
        .bento-card {
            padding: 2.2rem;
            border-radius: var(--radius-lg);
            background: var(--bg-white);
            border: 1px solid var(--border);
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative; overflow: hidden;
        }
        .bento-card::after {
            content: ''; position: absolute; inset: 0;
            border-radius: var(--radius-lg);
            background: linear-gradient(135deg, rgba(0,201,167,0.04), transparent 60%);
            opacity: 0; transition: opacity 0.4s;
        }
        .bento-card:hover {
            border-color: var(--action);
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }
        .bento-card:hover::after { opacity: 1; }
        .bento-wide { grid-column: span 2; }

        .bento-icon {
            width: 44px; height: 44px;
            border-radius: 10px;
            background: var(--teal-tint);
            display: flex; align-items: center; justify-content: center;
            margin-bottom: 1.2rem; position: relative; z-index: 1;
        }
        .bento-icon svg {
            width: 22px; height: 22px;
            stroke: var(--action); stroke-width: 1.8;
            fill: none; stroke-linecap: round; stroke-linejoin: round;
        }
        .bento-card h3 {
            font-size: 1.05rem; font-weight: 700;
            color: var(--text); margin-bottom: 0.5rem;
            position: relative; z-index: 1;
        }
        .bento-card p {
            font-size: 0.88rem; color: var(--text-secondary);
            line-height: 1.65; position: relative; z-index: 1;
        }

        /* ===== FORM SECTION ===== */
        .form-section { padding: 120px 2rem; background: rgba(253,240,242,0.6); position: relative; z-index: 1; }
        .form-wrapper { max-width: 640px; margin: 3rem auto 0; }
        .form-card {
            background: var(--bg-white);
            border: 1px solid var(--border);
            border-radius: var(--radius-xl);
            padding: 3rem;
            box-shadow: var(--shadow-lg);
            position: relative;
        }
        .form-card::before {
            content: ''; position: absolute;
            top: -1px; left: 80px; right: 80px; height: 3px;
            background: linear-gradient(90deg, var(--action), var(--accent), var(--action));
            border-radius: 0 0 4px 4px;
        }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
        .form-full { grid-column: 1 / -1; }
        .field { margin-bottom: 0.25rem; }
        .field label {
            display: block; font-size: 0.8rem; font-weight: 600;
            color: var(--text); margin-bottom: 6px; letter-spacing: 0.3px;
        }
        .field label .optional { color: var(--text-tertiary); font-weight: 400; }
        .field input, .field select, .field textarea {
            width: 100%; padding: 11px 14px;
            border: 1.5px solid var(--border);
            border-radius: var(--radius-sm);
            font-family: var(--font-body); font-size: 0.9rem;
            color: var(--text); background: var(--bg-card);
            outline: none;
            transition: all 0.25s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .field input:focus, .field select:focus, .field textarea:focus {
            border-color: var(--action);
            background: var(--bg-white);
            box-shadow: 0 0 0 3px var(--action-glow);
        }
        .field input::placeholder, .field textarea::placeholder { color: var(--text-tertiary); }
        .field textarea { resize: vertical; min-height: 72px; }

        .pill-group { display: flex; flex-wrap: wrap; gap: 6px; }
        .pill-btn {
            padding: 7px 14px; border: 1.5px solid var(--border);
            border-radius: 50px; background: var(--bg-card);
            font-family: var(--font-body); font-size: 0.8rem; font-weight: 500;
            color: var(--text-secondary); cursor: pointer;
            transition: all 0.25s; user-select: none;
        }
        .pill-btn:hover { border-color: var(--action); color: var(--action); }
        .pill-btn.active {
            background: var(--action); border-color: var(--action); color: #fff;
            box-shadow: 0 2px 8px rgba(0,201,167,0.25);
        }
        .mode-btn.active {
            background: var(--text); border-color: var(--text); color: #fff;
            box-shadow: 0 2px 8px rgba(33,37,41,0.15);
        }

        .submit-btn {
            width: 100%; padding: 14px; margin-top: 0.75rem;
            border: none; border-radius: 50px;
            background: var(--action); color: #fff;
            font-family: var(--font-body); font-size: 0.95rem; font-weight: 600;
            cursor: pointer; display: flex; align-items: center;
            justify-content: center; gap: 8px;
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .submit-btn:hover {
            background: var(--action-hover);
            transform: translateY(-1px);
            box-shadow: var(--shadow-glow);
        }
        .submit-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
        .spinner {
            width: 18px; height: 18px;
            border: 2px solid rgba(255,255,255,0.25);
            border-top-color: #fff; border-radius: 50%;
            animation: spin 0.7s linear infinite; display: none;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        .form-error {
            display: none; margin-top: 1rem; padding: 12px 16px;
            border-radius: var(--radius-sm);
            background: var(--rose-tint);
            border: 1px solid rgba(233,69,96,0.2);
            color: var(--accent); font-size: 0.88rem;
        }

        /* ===== RESULTS ===== */
        .results-section { display: none; padding: 120px 2rem; background: rgba(255,255,255,0.5); position: relative; z-index: 1; }
        .results-wrap { max-width: 780px; margin: 0 auto; }
        .results-head { text-align: center; margin-bottom: 2.5rem; }
        .results-head h2 {
            font-family: var(--font-display);
            font-size: 2.5rem; font-weight: 400; color: var(--text);
        }
        .results-head h2 em { font-style: italic; color: var(--action); }
        .results-body {
            background: var(--bg-white);
            border: 1px solid var(--border);
            border-radius: var(--radius-xl);
            padding: 3rem; box-shadow: var(--shadow-lg);
            line-height: 1.8; font-size: 0.95rem;
        }
        .results-body h3 {
            font-family: var(--font-display);
            font-size: 1.5rem; font-weight: 400; color: var(--text);
            margin: 2.5rem 0 0.8rem; padding-bottom: 0.6rem;
            border-bottom: 1px solid var(--border);
        }
        .results-body h3:first-child { margin-top: 0; }
        .results-body h4 { font-size: 1rem; font-weight: 700; color: var(--text); margin: 1.2rem 0 0.4rem; }
        .results-body p { margin-bottom: 0.5rem; }
        .results-body ul, .results-body ol { padding-left: 1.2rem; margin-bottom: 0.8rem; }
        .results-body li { margin-bottom: 0.25rem; }
        .results-body strong { color: var(--text); }

        .results-actions { display: flex; gap: 0.8rem; margin-top: 2rem; justify-content: center; }
        .btn-outline {
            padding: 11px 22px; border: 1.5px solid var(--border);
            background: var(--bg-white); color: var(--text);
            border-radius: 50px; font-family: var(--font-body);
            font-size: 0.88rem; font-weight: 600; cursor: pointer;
            display: flex; align-items: center; gap: 6px; transition: all 0.25s;
        }
        .btn-outline:hover { border-color: var(--action); color: var(--action); }
        .btn-solid {
            padding: 11px 22px; border: none;
            background: var(--action); color: #fff;
            border-radius: 50px; font-family: var(--font-body);
            font-size: 0.88rem; font-weight: 600; cursor: pointer;
            display: flex; align-items: center; gap: 6px; transition: all 0.25s;
        }
        .btn-solid:hover { background: var(--action-hover); box-shadow: var(--shadow-glow); }

        /* ===== FOOTER ===== */
        .footer {
            padding: 60px 2rem 40px;
            background: rgba(248,249,250,0.75);
            border-top: 1px solid var(--border);
            backdrop-filter: blur(1px);
            position: relative;
            z-index: 1;
        }
        .footer-inner {
            max-width: 1100px; margin: 0 auto;
            display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 3rem;
        }
        .footer-brand-col .footer-logo {
            font-family: var(--font-body); font-weight: 800;
            font-size: 1.15rem; color: var(--text); margin-bottom: 0.8rem;
        }
        .footer-brand-col .footer-logo em { font-style: normal; color: var(--action); }
        .footer-brand-col p {
            font-size: 0.85rem; color: var(--text-secondary);
            line-height: 1.6; max-width: 280px;
        }
        .footer-col h4 {
            font-size: 0.78rem; font-weight: 700;
            text-transform: uppercase; letter-spacing: 1.5px;
            color: var(--text-secondary); margin-bottom: 1.2rem;
        }
        .footer-col a {
            display: block; font-size: 0.88rem; color: var(--text-tertiary);
            text-decoration: none; margin-bottom: 0.7rem; transition: color 0.2s;
        }
        .footer-col a:hover { color: var(--action); }
        .footer-bottom {
            max-width: 1100px; margin: 3rem auto 0;
            padding-top: 1.5rem; border-top: 1px solid var(--border);
            display: flex; justify-content: space-between; align-items: center;
        }
        .footer-bottom span { font-size: 0.8rem; color: var(--text-tertiary); }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .nav { padding: 0 1.5rem; }
            .nav-links { display: none; }
            .nav-links.open {
                display: flex; flex-direction: column;
                position: absolute; top: 72px; left: 0; right: 0;
                background: rgba(253,240,242,0.98);
                backdrop-filter: blur(20px);
                padding: 1.5rem 2rem 2rem;
                border-bottom: 1px solid var(--border); gap: 1rem;
            }
            .mobile-menu-btn { display: block; }
            .steps-row { grid-template-columns: 1fr; max-width: 400px; margin: 4rem auto 0; }
            .bento-grid { grid-template-columns: 1fr; }
            .bento-wide { grid-column: span 1; }
            .form-grid { grid-template-columns: 1fr; }
            .form-card { padding: 2rem 1.5rem; }
            .hero-proof { gap: 2rem; flex-wrap: wrap; }
            .hero-actions { flex-direction: column; }
            .footer-inner { grid-template-columns: 1fr 1fr; gap: 2rem; }
            .footer-bottom { flex-direction: column; gap: 0.5rem; text-align: center; }
            .results-body { padding: 1.5rem; }
            .results-actions { flex-direction: column; align-items: center; }
        }

        @media print {
            .nav, .hero, .section, .form-section, footer, .results-actions { display: none !important; }
            .results-section { display: block !important; padding: 0; }
            .results-body { border: none; box-shadow: none; padding: 0; }
        }
    </style>
</head>
<body>

<!-- ANIMATED GRADIENT MESH -->
<div class="mesh-bg">
    <div class="mesh-blob mesh-blob-1"></div>
    <div class="mesh-blob mesh-blob-2"></div>
    <div class="mesh-blob mesh-blob-3"></div>
    <div class="mesh-blob mesh-blob-4"></div>
    <div class="mesh-blob mesh-blob-5"></div>
</div>

<!-- NAV -->
<nav class="nav" id="nav">
    <a href="/" class="nav-brand">Pack<em>Smart</em></a>
    <div class="nav-links" id="navLinks">
        <a href="#how">How It Works</a>
        <a href="#features">Features</a>
        <a href="about.html">About</a>
        <a href="blog.html">Blog</a>
        <a href="contact.html">Contact</a>
        <a href="#plan" class="nav-cta-btn">Plan My Trip</a>
    </div>
    <button class="mobile-menu-btn" id="menuBtn" aria-label="Menu">
        <span></span><span></span><span></span>
    </button>
</nav>

<!-- HERO -->
<section class="hero" id="heroSection">
    <canvas class="hero-canvas" id="heroCanvas"></canvas>
    <div class="hero-grid"></div>
    <div class="hero-content">
        <div class="hero-pill">
            AI-Powered Travel Preparation
            <span class="pill-tag">Free</span>
        </div>
        <h1>Pack smart.<br><span class="serif-italic">Travel ready.</span></h1>
        <p class="hero-sub">Tell us where you're headed and get a personalized packing list, visa briefing, local customs guide, and smart reminders — all in 30 seconds.</p>
        <div class="hero-actions">
            <a href="#plan" class="btn-primary">
                Start Planning
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
            </a>
            <a href="#how" class="btn-ghost">See How It Works</a>
        </div>
        <div class="hero-proof">
            <div class="hero-proof-item">
                <div class="val"><em>200+</em></div>
                <div class="lbl">Destinations</div>
            </div>
            <div class="hero-proof-item">
                <div class="val"><em>30</em>s</div>
                <div class="lbl">Generation Time</div>
            </div>
            <div class="hero-proof-item">
                <div class="val"><em>7</em></div>
                <div class="lbl">Plan Sections</div>
            </div>
            <div class="hero-proof-item">
                <div class="val"><em>Free</em></div>
                <div class="lbl">Always</div>
            </div>
        </div>
    </div>
</section>

<!-- HOW IT WORKS -->
<section class="section section-cloud" id="how">
    <div class="container">
        <div class="section-label reveal">How It Works</div>
        <div class="section-title reveal">Three steps to <em style="font-family:var(--font-display);font-style:italic;">perfect</em> preparation</div>
        <div class="section-desc reveal">No sign-up. No downloads. Just tell us about your trip and we handle the rest.</div>
        <div class="steps-row">
            <div class="step reveal reveal-delay-1">
                <div class="step-num">01</div>
                <h3>Describe Your Trip</h3>
                <p>Enter your destination, dates, group size, trip style, and budget. Takes 30 seconds.</p>
            </div>
            <div class="step reveal reveal-delay-2">
                <div class="step-num">02</div>
                <h3>AI Generates Your Plan</h3>
                <p>Our AI creates a comprehensive, personalized travel preparation package tailored to your exact trip.</p>
            </div>
            <div class="step reveal reveal-delay-3">
                <div class="step-num">03</div>
                <h3>Pack & Go</h3>
                <p>Print or save your plan. Check off items as you pack. Travel with confidence knowing you haven't missed a thing.</p>
            </div>
        </div>
    </div>
</section>

<!-- FEATURES -->
<section class="section section-teal" id="features">
    <div class="container">
        <div class="section-label reveal">What You Get</div>
        <div class="section-title reveal">Everything in <em style="font-family:var(--font-display);font-style:italic;">one</em> plan</div>
        <div class="section-desc reveal">Every plan includes seven comprehensive sections, personalized to your destination, dates, and travel style.</div>
        <div class="bento-grid">
            <div class="bento-card bento-wide reveal reveal-delay-1">
                <div class="bento-icon"><svg viewBox="0 0 24 24"><rect x="3" y="7" width="18" height="13" rx="2"/><path d="M8 7V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><path d="M12 12v3"/><path d="M3 12h18"/></svg></div>
                <h3>Smart Packing Checklist</h3>
                <p>Weather-appropriate, categorized by clothing, toiletries, electronics, and documents. Includes destination-specific items like reef-safe sunscreen for beach trips or modest clothing for temple visits.</p>
            </div>
            <div class="bento-card reveal reveal-delay-2">
                <div class="bento-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg></div>
                <h3>Destination Briefing</h3>
                <p>Visa requirements, currency, language phrases, power plug types, time zones, emergency numbers, and eSIM options.</p>
            </div>
            <div class="bento-card reveal reveal-delay-1">
                <div class="bento-icon"><svg viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg></div>
                <h3>Local Customs</h3>
                <p>Tipping etiquette, dress codes, common scams, cultural dos and don'ts, and food etiquette.</p>
            </div>
            <div class="bento-card bento-wide reveal reveal-delay-2">
                <div class="bento-icon"><svg viewBox="0 0 24 24"><polygon points="3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"/><line x1="9" y1="3" x2="9" y2="18"/><line x1="15" y1="6" x2="15" y2="21"/></svg></div>
                <h3>Activities & Hidden Gems</h3>
                <p>Not just the tourist checklist — discover off-the-beaten-path experiences, best times to visit popular spots, and family-friendly options. Real neighborhood names, real places.</p>
            </div>
            <div class="bento-card reveal reveal-delay-1">
                <div class="bento-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg></div>
                <h3>Smart Timeline</h3>
                <p>Reminders for 3 days before, 1 day before, and travel day. Wake-up time, carry essentials, airport tips.</p>
            </div>
            <div class="bento-card reveal reveal-delay-2">
                <div class="bento-icon"><svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg></div>
                <h3>Safety & Health</h3>
                <p>Areas to avoid, vaccinations, water safety, and travel insurance recommendations.</p>
            </div>
            <div class="bento-card reveal reveal-delay-3">
                <div class="bento-icon"><svg viewBox="0 0 24 24"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg></div>
                <h3>Budget Tips</h3>
                <p>Daily cost estimates, money-saving hacks, and haggling customs specific to your destination.</p>
            </div>
        </div>
    </div>
</section>

<!-- PLAN FORM -->
<section class="form-section" id="plan">
    <div class="container" style="text-align:center;">
        <div class="section-label reveal">Start Planning</div>
        <div class="section-title reveal">Where are you <em style="font-family:var(--font-display);font-style:italic;">going?</em></div>
    </div>
    <div class="form-wrapper reveal">
        <div class="form-card">
            <form id="travelForm" onsubmit="return handleSubmit(event)">
                <div class="form-grid">
                    <div class="field form-full">
                        <label>Destination</label>
                        <input type="text" id="destination" placeholder="e.g., Bali, Indonesia" required>
                    </div>
                    <div class="field form-full">
                        <label>Travel Mode</label>
                        <div class="pill-group">
                            <button type="button" class="pill-btn mode-btn active" data-v="flight">Flight</button>
                            <button type="button" class="pill-btn mode-btn" data-v="car">Car / Road Trip</button>
                            <button type="button" class="pill-btn mode-btn" data-v="bus">Bus</button>
                            <button type="button" class="pill-btn mode-btn" data-v="train">Train</button>
                            <button type="button" class="pill-btn mode-btn" data-v="boat">Boat / Cruise</button>
                        </div>
                    </div>
                    <div class="field form-full" id="routeField" style="display:none;">
                        <label>Route / Stops <span class="optional">(optional)</span></label>
                        <input type="text" id="route" placeholder="e.g., Mumbai → Goa via NH66, or Port A → Port B">
                    </div>
                    <div class="field"><label>Start Date</label><input type="date" id="startDate" required></div>
                    <div class="field"><label>End Date</label><input type="date" id="endDate" required></div>
                    <div class="field" id="depTimeField"><label>Flight Departure Time</label><input type="time" id="departureTime" value="06:00"></div>
                    <div class="field"><label>Budget</label>
                        <select id="budget">
                            <option value="budget">Budget ($0–50/day)</option>
                            <option value="mid-range" selected>Mid-range ($50–150/day)</option>
                            <option value="premium">Premium ($150–300/day)</option>
                            <option value="luxury">Luxury ($300+/day)</option>
                        </select>
                    </div>
                    <div class="field"><label>Your Currency</label>
                        <select id="currency">
                            <option value="USD">USD — US Dollar</option>
                            <option value="EUR">EUR — Euro</option>
                            <option value="GBP">GBP — British Pound</option>
                            <option value="INR" selected>INR — Indian Rupee</option>
                            <option value="AUD">AUD — Australian Dollar</option>
                            <option value="CAD">CAD — Canadian Dollar</option>
                            <option value="JPY">JPY — Japanese Yen</option>
                            <option value="SGD">SGD — Singapore Dollar</option>
                            <option value="AED">AED — UAE Dirham</option>
                            <option value="CHF">CHF — Swiss Franc</option>
                            <option value="CNY">CNY — Chinese Yuan</option>
                            <option value="BRL">BRL — Brazilian Real</option>
                            <option value="ZAR">ZAR — South African Rand</option>
                            <option value="MXN">MXN — Mexican Peso</option>
                            <option value="THB">THB — Thai Baht</option>
                            <option value="KRW">KRW — South Korean Won</option>
                        </select>
                    </div>
                    <div class="field"><label>Adults</label><input type="number" id="adults" min="1" max="20" value="2"></div>
                    <div class="field"><label>Kids</label><input type="number" id="kids" min="0" max="10" value="0"></div>
                    <div class="field form-full" id="kidsAgesField" style="display:none;">
                        <label>Kids' Ages</label>
                        <input type="text" id="kidsAges" placeholder="e.g., 3, 7, 12">
                    </div>
                    <div class="field form-full">
                        <label>Trip Type <span class="optional">(select all that apply)</span></label>
                        <div class="pill-group">
                            <button type="button" class="pill-btn trip-btn" data-v="beach">Beach</button>
                            <button type="button" class="pill-btn trip-btn" data-v="cultural">Cultural</button>
                            <button type="button" class="pill-btn trip-btn" data-v="adventure">Adventure</button>
                            <button type="button" class="pill-btn trip-btn" data-v="food">Food</button>
                            <button type="button" class="pill-btn trip-btn" data-v="nature">Nature</button>
                            <button type="button" class="pill-btn trip-btn" data-v="nightlife">Nightlife</button>
                            <button type="button" class="pill-btn trip-btn" data-v="business">Business</button>
                            <button type="button" class="pill-btn trip-btn" data-v="romantic">Romantic</button>
                            <button type="button" class="pill-btn trip-btn" data-v="family">Family</button>
                            <button type="button" class="pill-btn trip-btn" data-v="solo">Solo</button>
                        </div>
                    </div>
                    <div class="field form-full">
                        <label>Special Requirements <span class="optional">(optional)</span></label>
                        <textarea id="specialReqs" placeholder="e.g., Vegetarian, wheelchair access, first time flying, traveling with a pet..."></textarea>
                    </div>
                </div>
                <button type="submit" class="submit-btn" id="submitBtn">
                    <span class="spinner" id="spinner"></span>
                    <span id="btnText">Generate My Travel Plan</span>
                </button>
                <div class="form-error" id="formError"></div>
            </form>
        </div>
    </div>
</section>

<!-- RESULTS -->
<section class="results-section" id="results">
    <div class="results-wrap">
        <div class="results-head">
            <div class="section-label">Your Plan Is Ready</div>
            <h2>PackSmart: <em id="resDest"></em></h2>
        </div>
        <div class="results-body" id="resBody"></div>
        <div class="results-actions">
            <button class="btn-outline" onclick="window.print()">Print</button>
            <button class="btn-outline" onclick="copyPlan()">Copy</button>
            <button class="btn-solid" style="background:#25D366;border-color:#25D366;" onclick="shareWhatsApp()">Share on WhatsApp</button>
            <button class="btn-solid" onclick="newPlan()">Plan Another Trip</button>
        </div>
    </div>
</section>

<!-- FOOTER -->
<footer class="footer">
    <div class="footer-inner">
        <div class="footer-brand-col">
            <div class="footer-logo">Pack<em>Smart</em></div>
            <p>AI-powered travel preparation. Get personalized packing lists, visa info, and local tips for any destination in the world.</p>
        </div>
        <div class="footer-col"><h4>Product</h4><a href="#how">How It Works</a><a href="#features">Features</a><a href="#plan">Plan a Trip</a></div>
        <div class="footer-col"><h4>Company</h4><a href="about.html">About</a><a href="blog.html">Blog</a><a href="contact.html">Contact</a></div>
        <div class="footer-col"><h4>Legal</h4><a href="#">Privacy Policy</a><a href="#">Terms of Service</a></div>
    </div>
    <div class="footer-bottom">
        <span>&copy; 2026 PackSmart. All rights reserved.</span>
        <span>Made with AI, for travelers.</span>
    </div>
</footer>

<script>
// ===== INTERACTIVE PARTICLE MESH =====
(function() {
    const canvas = document.getElementById('heroCanvas');
    const ctx = canvas.getContext('2d');
    const hero = document.getElementById('heroSection');
    let W, H, mouseX = -1000, mouseY = -1000, particles = [];
    const COUNT = 80, CDIST = 150, MRAD = 200, MPUSH = 0.04;
    const TEAL = {r:0,g:201,b:167}, ROSE = {r:233,g:69,b:96};

    function resize() { const r = hero.getBoundingClientRect(); W = canvas.width = r.width; H = canvas.height = r.height; }

    class Particle {
        constructor() { this.reset(); }
        reset() {
            this.x = Math.random()*W; this.y = Math.random()*H;
            this.bx = this.x; this.by = this.y;
            this.vx = (Math.random()-0.5)*0.4; this.vy = (Math.random()-0.5)*0.4;
            this.sz = Math.random()*2+0.8; this.cm = Math.random();
            this.a = Math.random()*0.4+0.15; this.ps = Math.random()*0.02+0.005;
            this.po = Math.random()*Math.PI*2;
        }
        color(a) {
            const r=Math.round(TEAL.r+(ROSE.r-TEAL.r)*this.cm);
            const g=Math.round(TEAL.g+(ROSE.g-TEAL.g)*this.cm);
            const b=Math.round(TEAL.b+(ROSE.b-TEAL.b)*this.cm);
            return `rgba(${r},${g},${b},${a})`;
        }
        update(t) {
            this.x+=this.vx; this.y+=this.vy;
            const dx=this.x-mouseX, dy=this.y-mouseY, d=Math.sqrt(dx*dx+dy*dy);
            if(d<MRAD&&d>0){const f=(MRAD-d)/MRAD; this.vx+=(dx/d)*f*MPUSH; this.vy+=(dy/d)*f*MPUSH;}
            this.vx+=(this.bx-this.x)*0.0003; this.vy+=(this.by-this.y)*0.0003;
            this.vx*=0.99; this.vy*=0.99;
            if(this.x<-20)this.x=W+20; if(this.x>W+20)this.x=-20;
            if(this.y<-20)this.y=H+20; if(this.y>H+20)this.y=-20;
            this.ca=this.a+Math.sin(t*this.ps+this.po)*0.1;
        }
        draw() { ctx.beginPath(); ctx.arc(this.x,this.y,this.sz,0,Math.PI*2); ctx.fillStyle=this.color(this.ca); ctx.fill(); }
    }

    function init() { resize(); particles=[]; for(let i=0;i<COUNT;i++)particles.push(new Particle()); }

    function connections() {
        for(let i=0;i<particles.length;i++) for(let j=i+1;j<particles.length;j++){
            const dx=particles[i].x-particles[j].x, dy=particles[i].y-particles[j].y, d=Math.sqrt(dx*dx+dy*dy);
            if(d<CDIST){
                const a=(1-d/CDIST)*0.1, m=(particles[i].cm+particles[j].cm)/2;
                const r=Math.round(TEAL.r+(ROSE.r-TEAL.r)*m), g=Math.round(TEAL.g+(ROSE.g-TEAL.g)*m), b=Math.round(TEAL.b+(ROSE.b-TEAL.b)*m);
                ctx.beginPath(); ctx.moveTo(particles[i].x,particles[i].y); ctx.lineTo(particles[j].x,particles[j].y);
                ctx.strokeStyle=`rgba(${r},${g},${b},${a})`; ctx.lineWidth=0.6; ctx.stroke();
            }
        }
        if(mouseX>0&&mouseY>0) for(let i=0;i<particles.length;i++){
            const dx=particles[i].x-mouseX, dy=particles[i].y-mouseY, d=Math.sqrt(dx*dx+dy*dy);
            if(d<MRAD){
                ctx.beginPath(); ctx.moveTo(particles[i].x,particles[i].y); ctx.lineTo(mouseX,mouseY);
                ctx.strokeStyle=`rgba(0,201,167,${(1-d/MRAD)*0.18})`; ctx.lineWidth=0.8; ctx.stroke();
            }
        }
    }

    let t=0;
    function animate() { ctx.clearRect(0,0,W,H); t++; connections(); for(const p of particles){p.update(t);p.draw();} requestAnimationFrame(animate); }

    hero.addEventListener('mousemove',e=>{const r=hero.getBoundingClientRect();mouseX=e.clientX-r.left;mouseY=e.clientY-r.top;});
    hero.addEventListener('mouseleave',()=>{mouseX=-1000;mouseY=-1000;});
    hero.addEventListener('touchmove',e=>{const r=hero.getBoundingClientRect();mouseX=e.touches[0].clientX-r.left;mouseY=e.touches[0].clientY-r.top;},{passive:true});
    hero.addEventListener('touchend',()=>{mouseX=-1000;mouseY=-1000;});
    window.addEventListener('resize',()=>{resize();for(const p of particles){p.bx=Math.random()*W;p.by=Math.random()*H;}});
    init(); animate();
})();

// ===== NAV SCROLL =====
const nav = document.getElementById('nav');
window.addEventListener('scroll', () => nav.classList.toggle('scrolled', window.scrollY > 50));

// ===== MOBILE MENU =====
document.getElementById('menuBtn').addEventListener('click', () => document.getElementById('navLinks').classList.toggle('open'));
document.querySelectorAll('.nav-links a').forEach(a => a.addEventListener('click', () => document.getElementById('navLinks').classList.remove('open')));

// ===== SCROLL REVEAL =====
const observer = new IntersectionObserver(e => e.forEach(x => { if(x.isIntersecting) x.target.classList.add('visible'); }), { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });
document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

// ===== KIDS FIELD TOGGLE =====
document.getElementById('kids').addEventListener('input', e => {
    document.getElementById('kidsAgesField').style.display = parseInt(e.target.value) > 0 ? 'block' : 'none';
});

// ===== TRIP TYPE PILLS (multi-select) =====
document.querySelectorAll('.trip-btn').forEach(btn => btn.addEventListener('click', () => btn.classList.toggle('active')));

// ===== TRAVEL MODE PILLS (single-select) =====
document.querySelectorAll('.mode-btn').forEach(btn => btn.addEventListener('click', () => {
    document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    const mode = btn.dataset.v;
    // Show/hide departure time (only for flights)
    document.getElementById('depTimeField').style.display = mode === 'flight' ? '' : 'none';
    // Show/hide route field (non-flight modes)
    document.getElementById('routeField').style.display = mode !== 'flight' ? 'block' : 'none';
}));

// ===== FORM SUBMIT =====
async function handleSubmit(e) {
    e.preventDefault();
    const btn = document.getElementById('submitBtn'), spinner = document.getElementById('spinner'),
          btnText = document.getElementById('btnText'), err = document.getElementById('formError');
    const tripTypes = Array.from(document.querySelectorAll('.trip-btn.active')).map(b => b.dataset.v).join(', ');
    const travelMode = document.querySelector('.mode-btn.active')?.dataset.v || 'flight';
    const data = {
        destination: document.getElementById('destination').value,
        travelMode: travelMode,
        route: document.getElementById('route')?.value || '',
        startDate: document.getElementById('startDate').value,
        endDate: document.getElementById('endDate').value,
        departureTime: travelMode === 'flight' ? document.getElementById('departureTime').value : '',
        adults: document.getElementById('adults').value,
        kids: document.getElementById('kids').value,
        kidsAges: document.getElementById('kidsAges').value,
        tripType: tripTypes,
        budget: document.getElementById('budget').value,
        currency: document.getElementById('currency').value,
        specialRequirements: document.getElementById('specialReqs').value
    };
    btn.disabled = true; spinner.style.display = 'block'; btnText.textContent = 'Generating your plan...'; err.style.display = 'none';
    try {
        const res = await fetch('/api/generate-plan', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data) });
        const json = await res.json();
        if (json.success) {
            document.getElementById('resDest').textContent = data.destination;
            document.getElementById('resBody').innerHTML = mdToHtml(json.plan);
            document.getElementById('results').style.display = 'block';
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        } else throw new Error(json.error || 'Something went wrong.');
    } catch (ex) { err.textContent = ex.message; err.style.display = 'block'; }
    finally { btn.disabled = false; spinner.style.display = 'none'; btnText.textContent = 'Generate My Travel Plan'; }
}

function mdToHtml(md) {
    return md.replace(/^### (.*$)/gm,'<h4>$1</h4>').replace(/^## (.*$)/gm,'<h3>$1</h3>').replace(/^# (.*$)/gm,'<h3>$1</h3>')
        .replace(/\*\*(.*?)\*\*/g,'<strong>$1</strong>').replace(/\*(.*?)\*/g,'<em>$1</em>')
        .replace(/^☐ (.*)$/gm,'<li style="list-style:none;">☐ $1</li>')
        .replace(/^[-*] (.*)$/gm,'<li>$1</li>').replace(/^\d+\. (.*)$/gm,'<li>$1</li>')
        .replace(/\n\n/g,'</p><p>').replace(/\n/g,'<br>')
        .replace(/(<li[^>]*>.*?<\/li>)/gs,'<ul>$1</ul>').replace(/<\/ul>\s*<ul>/g,'');
}
function copyPlan() { navigator.clipboard.writeText(document.getElementById('resBody').innerText).then(() => alert('Plan copied!')); }
function shareWhatsApp() {
    const dest = document.getElementById('resDest').textContent;
    const planText = document.getElementById('resBody').innerText;
    const truncated = planText.substring(0, 2000);
    const msg = `*PackSmart Travel Plan: ${dest}*\n\n${truncated}${planText.length > 2000 ? '\n\n... [Full plan at packsmartapp.com]' : ''}\n\n---\nGenerate your own free travel plan at packsmartapp.com`;
    window.open('https://wa.me/?text=' + encodeURIComponent(msg), '_blank');
}
function newPlan() { document.getElementById('results').style.display='none'; document.getElementById('plan').scrollIntoView({behavior:'smooth'}); }

const today = new Date().toISOString().split('T')[0];
document.getElementById('startDate').min = today;
document.getElementById('endDate').min = today;
document.getElementById('startDate').addEventListener('change', e => document.getElementById('endDate').min = e.target.value);
</script>
</body>
</html>
